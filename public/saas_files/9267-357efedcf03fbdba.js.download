"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9267],{79267:(e,a,s)=>{s.r(a),s.d(a,{default:()=>k});var t=s(95155),i=s(60760),r=s(10506),l=s(51362),n=s(66766),d=s(6874),c=s.n(d),o=s(12115),m=s(30285),h=s(62098),u=s(93509),x=s(54416),f=s(74783),g=s(78681),p=s(22100),j=s(26715),b=s(9282);let N=()=>{let e=(0,j.jE)(),a=(0,p.A)(),[s,t]=(0,o.useState)(!1),[i,r]=(0,o.useState)(null);(0,o.useEffect)(()=>{{let e=localStorage.getItem("sessionId")||sessionStorage.getItem("sessionId"),a=localStorage.getItem("userId");r(!!(e||a))}},[]),(0,o.useEffect)(()=>{a.user?r(!0):a.isLoading||null===i||(localStorage.removeItem("userId"),r(!1))},[a.user,a.isLoading,i]);let l=(0,o.useCallback)(async()=>{t(!0);try{await Promise.all([e.invalidateQueries({queryKey:b.ZF.session(),refetchType:"all"}),e.invalidateQueries({queryKey:["session"],refetchType:"all"})]),await a.refetch()}catch(e){console.warn("Manual auth sync failed:",e)}finally{t(!1)}},[e,a.refetch]);return{...a,isNavigating:s,syncAuth:l,hasSession:i,isInitialLoading:a.isLoading&&null===i}};var v=s(23662),y=s(41785);let k=()=>{var e,a;let{theme:s,setTheme:d}=(0,l.D)(),[p,j]=(0,o.useState)(!1),{user:b,isLoading:k,isNavigating:w,hasSession:S,isInitialLoading:I}=N(),[C,B]=(0,o.useState)(!1),[E,A]=(0,o.useState)(!1);(0,o.useEffect)(()=>{A(!0)},[]),(0,o.useEffect)(()=>{k||B(!0)},[k]);let M=(0,o.useMemo)(()=>[{name:"Home",href:"/"},{name:"Mentorship",href:"/mentorship"},{name:"Courses",href:"/courses"},{name:"Blog",href:"/blog"},{name:"Community",href:"/community"},{name:"About",href:"/about"},{name:"Contact",href:"/contact"}],[]),P=(0,o.useMemo)(()=>{if(b)return(0,t.jsx)(v.p,{});let e=!1===S;return E&&C&&!k&&!I&&e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c(),{href:"/auth/login",children:(0,t.jsx)(g.MagneticButton,{strength:30,variant:"outline",children:"Sign In"})}),(0,t.jsx)(c(),{href:"/auth/register",children:(0,t.jsx)(g.MagneticButton,{strength:30,children:"Get Started"})})]}):(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-[80px] h-9 rounded-lg bg-primary/20 animate-pulse"}),(0,t.jsx)("div",{className:"w-[100px] h-9 rounded-lg bg-primary/20 animate-pulse"})]})},[b,E,C,k,I,S]);return(0,t.jsx)("nav",{className:"fixed top-[var(--banner-height)] left-0 right-0 z-40 bg-background/95 backdrop-blur border-b border-border",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsx)(c(),{href:"/",className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"relative w-[120px] h-[45px]",children:[(0,t.jsx)(n.default,{src:"/white_green.png",alt:"Dugsiiye",fill:!0,className:"object-contain dark:block hidden",priority:!0,sizes:"120px"}),(0,t.jsx)(n.default,{src:"/dark_green.png",alt:"Dugsiiye",fill:!0,className:"object-contain dark:hidden block",priority:!0,sizes:"120px"})]})}),(0,t.jsx)("div",{className:"hidden md:flex items-center gap-8",children:M.map(e=>(0,t.jsxs)(c(),{href:e.href,className:"text-base font-medium text-muted-foreground hover:text-primary transition-colors relative group",children:[e.name,(0,t.jsx)("span",{className:"absolute -bottom-0.5 left-0 w-0 h-0.5 bg-primary/50 transition-all group-hover:w-full"})]},e.name))}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(m.Button,{variant:"ghost",size:"icon",onClick:()=>d("dark"===s?"light":"dark"),className:"relative w-9 h-9 rounded-lg hover:bg-primary/5",children:[(0,t.jsx)(h.A,{className:"h-[18px] w-[18px] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0 absolute"}),(0,t.jsx)(u.A,{className:"h-[18px] w-[18px] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100 absolute"}),(0,t.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}),b&&(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(y.f,{})}),(0,t.jsx)("div",{className:"hidden md:flex items-center gap-3",children:P}),(0,t.jsx)(m.Button,{variant:"ghost",size:"icon",className:"rounded-lg relative md:hidden",onClick:()=>j(!p),children:p?(0,t.jsx)(x.A,{className:"h-5 w-5"}):(0,t.jsx)(f.A,{className:"h-5 w-5"})})]})]}),(0,t.jsx)(i.N,{children:p&&(0,t.jsx)(r.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden overflow-hidden bg-background/95 rounded-b-2xl border-x border-border shadow-lg",children:(0,t.jsx)(r.P.div,{className:"py-6",initial:{y:-20},animate:{y:0},transition:{duration:.3,delay:.1},children:(0,t.jsxs)("div",{className:"flex flex-col",children:[b&&(0,t.jsxs)(r.P.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3},className:"px-6 pb-6 mb-2 border-b border-border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-medium",children:[null===(e=b.firstName)||void 0===e?void 0:e[0],null===(a=b.lastName)||void 0===a?void 0:a[0]]}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"font-medium truncate",children:[b.firstName," ",b.lastName]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:b.email})]})]}),(0,t.jsx)(y.f,{})]}),(0,t.jsx)(c(),{href:"/dashboard",className:"block",onClick:()=>j(!1),children:(0,t.jsx)(m.Button,{className:"w-full",children:"Go to Dashboard"})})]}),(0,t.jsx)("div",{className:"space-y-1",children:M.map((e,a)=>(0,t.jsx)(r.P.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3,delay:.1*a},children:(0,t.jsx)(c(),{href:e.href,className:"text-base font-medium text-muted-foreground hover:text-primary transition-colors px-6 py-2.5 block",onClick:()=>j(!1),children:e.name})},e.name))}),!b&&E&&C&&!k&&!I&&!1===S&&(0,t.jsx)(r.P.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3,delay:.1*M.length},className:"border-t border-border mt-4 pt-6 px-6",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(c(),{href:"/auth/login",className:"block",children:(0,t.jsx)(m.Button,{variant:"outline",className:"w-full rounded-lg",children:"Sign In"})}),(0,t.jsx)(c(),{href:"/auth/register",className:"block",children:(0,t.jsx)(m.Button,{className:"w-full rounded-lg",children:"Get Started"})})]})})]})})})})]})})}}}]);