"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3088],{38567:(e,t,n)=>{n.d(t,{Wp:()=>d,sD:()=>c});var r=n(95155);n(12115);var l=n(6874),a=n.n(l),i=n(59434),s=n(88004),u=n(33786);function o(e){return e.startsWith("http://")||e.startsWith("https://")?e:(e.startsWith("www."),"https://".concat(e))}function d(e){let{content:t,className:n,mentionClassName:l="text-blue-600 hover:text-blue-800 font-semibold bg-blue-50 dark:bg-blue-950/30 px-1 py-0.5 rounded transition-all duration-200",linkClassName:d="text-green-600 hover:text-green-800 font-medium bg-green-50 dark:bg-green-950/30 px-1 py-0.5 rounded transition-all duration-200 inline-flex items-center gap-1",enableLinks:c=!0,enableMentions:m=!0}=e,{content:h,tokens:f}=function(e){let t;let{text:n,mentions:r}=(0,s._K)(e),l=/(https?:\/\/[^\s]+|www\.[^\s]+|[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}[^\s]*)/gi,a=[];for(;null!==(t=l.exec(e));)a.push({match:t[0],index:t.index,length:t[0].length});return{content:e,tokens:[...r.map(e=>({...e,type:"mention"})),...a.map(e=>({...e,type:"url"}))].sort((e,t)=>e.index-t.index)}}(t);if(0===f.length)return(0,r.jsx)("span",{className:n,children:t});let x=[],g=0;if(f.forEach((e,t)=>{if(e.index>g){let n=h.substring(g,e.index);n&&x.push((0,r.jsx)("span",{children:n},"text-".concat(t)))}if("mention"===e.type&&m){let n=(0,r.jsxs)(a(),{href:"/community/users/".concat(e.name),className:(0,i.cn)(l,"hover:underline"),"data-user-id":e.userId,title:"View @".concat(e.name,"'s profile"),children:["@",e.name]},"mention-".concat(t));x.push(n)}else if("url"===e.type&&c){let n=e.match,l=o(n),a=function(e){try{let t=o(e),n=new URL(t),r=n.hostname;if(r.startsWith("www.")&&(r=r.substring(4)),n.pathname&&"/"!==n.pathname){let e=n.pathname.split("/").filter(Boolean);e.length>0&&(r+="/".concat(e[0]),e.length>1&&(r+="/..."))}return r}catch(t){return e.length>30?e.substring(0,30)+"...":e}}(n),s=(0,r.jsxs)("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:(0,i.cn)(d,"hover:underline"),title:l,children:[(0,r.jsx)("span",{children:a}),(0,r.jsx)(u.A,{className:"h-3 w-3 opacity-70"})]},"link-".concat(t));x.push(s)}else x.push((0,r.jsx)("span",{children:"mention"===e.type?"@".concat(e.name):e.match},"token-".concat(t)));g=e.index+e.length}),g<h.length){let e=h.substring(g);e&&x.push((0,r.jsx)("span",{children:e},"text-end"))}return(0,r.jsx)("span",{className:n,children:x})}function c(e){let{content:t,className:n,variant:l="default"}=e,a={default:{mention:"text-blue-600 hover:text-blue-800 font-semibold bg-blue-50 dark:bg-blue-950/30 px-1.5 py-0.5 rounded-md transition-all duration-200 shadow-sm hover:shadow",link:"text-green-600 hover:text-green-800 font-medium bg-green-50 dark:bg-green-950/30 px-1.5 py-0.5 rounded-md transition-all duration-200 shadow-sm hover:shadow inline-flex items-center gap-1.5"},compact:{mention:"text-blue-600 hover:text-blue-800 font-medium underline decoration-dotted underline-offset-2",link:"text-green-600 hover:text-green-800 font-medium underline decoration-dotted underline-offset-2 inline-flex items-center gap-1"},minimal:{mention:"text-blue-600 hover:text-blue-800 font-medium",link:"text-green-600 hover:text-green-800 font-medium inline-flex items-center gap-1"}}[l];return(0,r.jsx)(d,{content:t,className:n,mentionClassName:a.mention,linkClassName:a.link})}},88004:(e,t,n)=>{function r(e){let t;if(!e)return{text:e,mentions:[]};let n=/@\[([^\]]+)\]\(([^)]+)\)/g,r=[];for(n.lastIndex=0;null!==(t=n.exec(e));){let[e,n,l]=t;n&&l&&n.trim()&&l.trim()&&r.push({text:e,userId:l.trim(),name:n.trim(),index:t.index,length:e.length})}return{text:e,mentions:r}}function l(e,t){let n;let r=/@([a-zA-Z0-9_]*)/g;for(;null!==(n=r.exec(e));){let e=n.index,r=n.index+n[0].length;if(t>=e&&t<=r)return{start:e,end:r,username:n[1]||""}}let l=e.lastIndexOf("@",t);if(-1!==l&&t<=l+1){let n=e.substring(0,l);if(e.substring(t),!1===n.endsWith("@[")){let n=e.indexOf(" ",l+1),r=e.indexOf("\n",l+1);return{start:l,end:Math.min(-1===n?e.length:n,-1===r?e.length:r),username:e.substring(l+1,t).replace(/[^a-zA-Z0-9_]/g,"")}}}return null}function a(e,t,n){let r=Math.max(0,t.start),l=Math.min(e.length,t.end),a=e.substring(0,r),i=e.substring(l),s="@[".concat(n.username,"](").concat(n.userId,")");return{text:a+s+i,cursorPosition:a.length+s.length}}function i(e){return e.replace(/@\[([^\]]+)\]\(([^)]+)\)/g,(e,t)=>"@".concat(t))}n.d(t,{Kg:()=>i,R_:()=>l,_K:()=>r,r0:()=>a})},91394:(e,t,n)=>{n.d(t,{BK:()=>u,eu:()=>s,q5:()=>o});var r=n(95155),l=n(12115),a=n(64358),i=n(59434);let s=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a.bL,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...l})});s.displayName=a.bL.displayName;let u=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a._V,{ref:t,className:(0,i.cn)("aspect-square h-full w-full rounded-full object-cover",n),...l})});u.displayName=a._V.displayName;let o=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(a.H4,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...l})});o.displayName=a.H4.displayName}}]);